

CREATE TABLE IF NOT EXISTS `oc_shop` (
  `shop_id` int(11) NOT NULL,
  `shop_name` varchar(100) NOT NULL,
  `created_time` int(11) NOT NULL,
  PRIMARY KEY (`customer_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


ALTER TABLE `oc_customer` ADD `is_open_shop` TINYINT NOT NULL COMMENT '0-no 1-yes' AFTER `customer_group_id`;


CREATE TABLE IF NOT EXISTS `oc_shop` (
  `shop_id` int(11) NOT NULL,
  `shop_name` varchar(100) NOT NULL,
  `owner_name` varchar(50) NOT NULL,
  `owner_about` text NOT NULL,
  `owner_facebook` varchar(100) NOT NULL,
  `owner_twitter` varchar(100) NOT NULL,
  `created_time` int(11) NOT NULL,
  PRIMARY KEY (`shop_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


INSERT INTO `oc_shop` (`shop_id`, `shop_name`, `owner_name`, `owner_about`, `owner_facebook`, `owner_twitter`, `created_time`) VALUES
(1, 'My Shop', 'Owner Name', 'This is About me\r\nMy Name is Jackson', '', '', 1486887099);


ALTER TABLE `oc_shop` ADD `owner_image` VARCHAR(100) NOT NULL AFTER `owner_twitter`;

ALTER TABLE `oc_product` ADD `shop_id` INT NOT NULL AFTER `product_id`, ADD INDEX (`shop_id`) ;

ALTER TABLE `oc_order_product` ADD `shop_id` INT NOT NULL AFTER `product_id`, ADD INDEX (`shop_id`) ;


CREATE TABLE IF NOT EXISTS `oc_order_shop` (
  `order_shop_id` int(11) NOT NULL AUTO_INCREMENT,
  `order_id` int(11) NOT NULL,
  `shop_id` int(11) NOT NULL,
  PRIMARY KEY (`order_shop_id`),
  KEY `order_id` (`order_id`,`shop_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `oc_order_shop` ADD `total` DECIMAL NOT NULL DEFAULT '0.0000' ;
ALTER TABLE `oc_order_shop` CHANGE `total` `total` DECIMAL(15,4) NOT NULL DEFAULT '0.0000';

ALTER TABLE `oc_review` ADD `shop_id` INT NOT NULL AFTER `review_id`, ADD INDEX (`shop_id`) ;

ALTER TABLE `oc_address` ADD `telephone` VARCHAR(50) NOT NULL AFTER `lastname`;
